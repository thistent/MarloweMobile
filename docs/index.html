<!DOCTYPE html> 
<html> 

<head> 
  <!-- Responsive -->
  <meta charset="utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge"> 

  <!-- Title -->
  <title>Marlowe Mobile</title> 

  <!-- Meta Tags requred for Progressive Web App -->
  <meta name="apple-mobile-web-app-status-bar" content="#aa7700"> 
  <meta name="theme-color" content="black"> 

  <!-- Manifest File link -->
  <link rel="manifest" href="manifest.json"> 

  <!-- Elm App -->
  <script src="main.js"></script>
</head> 

<body> 

<div id="elm"></div>

<script> 
  var app = Elm.Main.init({
    node: document.getElementById('elm'),
    flags: []
  });

	window.addEventListener('load', () => { 
	registerSW(); 
	}); 

	// Register the Service Worker 
	async function registerSW() { 
	if ('serviceWorker' in navigator) { 
		try { 
		await navigator 
				.serviceWorker 
				.register('serviceworker.js'); 
		} 
		catch (e) { 
		console.log('SW registration failed'); 
		} 
	} 
	} 
</script>

</body> 
</html>
